{"version":3,"file":"dist/sun-rest.min.js","sources":["dist/sun-rest.js"],"names":["angular","undefined","module","service","this","copyProperties","from","to","exclude","i","props","prop","description","Object","getOwnPropertyNames","length","getOwnPropertyDescriptor","indexOf","defineProperty","inherit","Child","Parent","isFunction","DefaultChild","$super","constructor","apply","arguments","prototype","F","f","stringJsonParser","stringPath","object","parts","x","returnValue","split","_","isObject","sunRest","isDefined","isString","isArray","forEach","extend","copy","provider","propertyModifier","requestInterceptor","requestErrorInterceptor","responseInterceptor","responseErrorInterceptor","properties","dataExtractor","baseUrl","responseDataListLocation","responseDataItemLocation","modelIdProperty","updateMethod","updatePartial","trailingSlashes","get","set","value","slice","bool","Error","defineProperties","$get","mapValues","param","factory","$q","sunUtils","sunRestConfig","sunRestRouter","sunRestSchema","defaultProperties","route","routeIdProperty","extractRouteIdProperty","applyPropertyModifier","router","name","relations","dataListLocation","dataItemLocation","autoParse","paramDefaults","keys","match","modifier","newProperty","property","wrappedRequestInterceptor","bind","httpConfig","result","call","when","wrappedResponseInterceptor","response","path","defaultDataExtractor","data","_dataExtractor","encodeUriQuery","val","pctEncodeSpaces","encodeURIComponent","replace","encodeUriSegment","template","defaults","urlParams","buildConfig","config","params","actionUrl","url","encodedVal","RegExp","test","urlParam","hasOwnProperty","leadingSlashes","tail","charAt","key","sunRestCollection","resources","create","schema","BaseModel","mngrClass","enumerable","isEmpty","toJSON","mngr","_setDefaults","populating","prop_name","default_value","$http","$injector","hasBody","method","toUpperCase","isValidDottedPath","MEMBER_NAME_REGEX","lookupDottedPath","obj","ii","getCollection","relationConfig","collection","resource","sunRestModelManager","model","modelClass","remoteFlag","modifyFlag","originalData","changedProperties","deleteFlag","NEW","DELETED","DIRTY","LOADED","NORMALIZE_INCOMING","NORMALIZE_OUTGOING","populate","normalizeData","toNative","reset","saveRemoteFlag","returnData","toJson","way","normalizedData","isOutgoing","remoteProperty","normalizedKey","noneNormalizedKey","extractParams","actionParams","ids","substr","save","modifyLocal","promise","isNew","state","simpleRequest","then","remove","objectRequest","Model","dataLocation","extracted","item","push","$resolved","reject","$promise","self","newConfig","populateRelated","populateOptions","prom","map","opts","options","absolute","routeProp","request","resp","all","isRemote","overrides","child","related","relatedMngr","relationName","__mngr","find","sunRestBaseModel","sunRestModelFactory","modelProperties","customSetter","customGetter","customProperty","getter","setter","res","normalizeOptions","isBoolean","one","query","id"],"mappings":"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"}