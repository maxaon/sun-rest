{"version":3,"file":"dist/sun-rest.min.js","sources":["dist/sun-rest.js"],"names":["angular","undefined","module","service","this","copyProperties","from","to","exclude","i","props","prop","description","Object","getOwnPropertyNames","length","getOwnPropertyDescriptor","indexOf","defineProperty","inherit","Child","Parent","isFunction","DefaultChild","$super","constructor","apply","arguments","prototype","F","f","stringJsonParser","stringPath","object","parts","x","returnValue","split","_","isObject","sunRest","isDefined","isString","isArray","forEach","extend","copy","provider","propertyModifier","requestInterceptor","requestErrorInterceptor","responseInterceptor","responseErrorInterceptor","properties","dataExtractor","baseUrl","responseDataListLocation","responseDataItemLocation","modelIdProperty","updateMethod","updatePartial","trailingSlashes","get","set","value","slice","bool","Error","defineProperties","$get","mapValues","param","factory","$q","sunUtils","sunRestConfig","sunRestRouter","sunRestSchema","defaultProperties","route","routeIdProperty","extractRouteIdProperty","applyPropertyModifier","router","name","relations","dataListLocation","dataItemLocation","autoParse","paramDefaults","keys","match","modifier","newProperty","property","wrappedRequestInterceptor","bind","httpConfig","result","call","when","wrappedResponseInterceptor","response","path","defaultDataExtractor","data","_dataExtractor","encodeUriQuery","val","pctEncodeSpaces","encodeURIComponent","replace","encodeUriSegment","template","defaults","urlParams","buildConfig","config","params","actionUrl","url","encodedVal","RegExp","test","urlParam","hasOwnProperty","leadingSlashes","tail","charAt","key","sunRestCollection","resources","create","schema","BaseModel","mngrClass","enumerable","isEmpty","mngr","populate","toJSON","_setDefaults","populating","prop_name","default_value","$http","$injector","hasBody","method","toUpperCase","isValidDottedPath","MEMBER_NAME_REGEX","lookupDottedPath","obj","ii","sunRestModelManager","model","modelClass","remoteFlag","modifyFlag","originalData","changedProperties","deleteFlag","NEW","DELETED","DIRTY","LOADED","NORMALIZE_INCOMING","NORMALIZE_OUTGOING","normalizeData","toNative","reset","saveRemoteFlag","returnData","toJson","way","normalizedData","isOutgoing","remoteProperty","normalizedKey","noneNormalizedKey","extractParams","actionParams","ids","substr","save","modifyLocal","promise","isNew","state","simpleRequest","then","remove","objectRequest","Model","dataLocation","extracted","item","push","$resolved","resource","reject","$promise","self","newConfig","isRemote","overrides","child","related","relatedMngr","relationConfig","relationName","collection","__mngr","find","sunRestBaseModel","sunRestModelFactory","modelProperties","defaultGetMethod","defaultSetMethod","customSetter","customGetter","customProperty","getter","setter","res","postData","query","id"],"mappings":"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"}