{"version":3,"file":"dist/sun-rest.min.js","sources":["dist/sun-rest.js"],"names":["angular","undefined","module","service","this","copyProperties","from","to","exclude","i","props","prop","description","Object","getOwnPropertyNames","length","getOwnPropertyDescriptor","indexOf","defineProperty","inherit","Child","Parent","isFunction","DefaultChild","$super","constructor","apply","arguments","prototype","F","f","stringJsonParser","stringPath","object","parts","x","returnValue","split","_","isObject","sunRest","isDefined","isString","isArray","forEach","extend","copy","provider","propertyModifier","requestInterceptor","requestErrorInterceptor","responseInterceptor","responseErrorInterceptor","properties","dataExtractor","baseUrl","responseDataListLocation","responseDataItemLocation","modelIdProperty","updateMethod","updatePartial","trailingSlashes","get","set","value","slice","bool","Error","defineProperties","$get","mapValues","param","factory","$q","sunUtils","sunRestConfig","sunRestSchema","defaultProperties","routeIdProperty","extractRouteIdProperty","route","applyPropertyModifier","name","idProperty","relations","dataListLocation","dataItemLocation","autoParse","paramDefaults","keys","match","modifier","newProperty","property","wrappedRequestInterceptor","bind","httpConfig","result","call","when","wrappedResponseInterceptor","response","path","defaultDataExtractor","data","_dataExtractor","encodeUriQuery","val","pctEncodeSpaces","encodeURIComponent","replace","encodeUriSegment","sunRestRouter","template","defaults","urlParams","buildConfig","config","params","actionUrl","url","encodedVal","RegExp","test","urlParam","hasOwnProperty","leadingSlashes","tail","charAt","key","BaseModel","mngrClass","enumerable","_setDefaults","isEmpty","mngr","populate","toJSON","populating","schema","prop_name","default_value","$http","hasBody","method","toUpperCase","isValidDottedPath","MEMBER_NAME_REGEX","lookupDottedPath","obj","ii","sunRestModelManager","model","modelClass","remoteFlag","modifyFlag","originalData","changedProperties","deleteFlag","NEW","DELETED","DIRTY","LOADED","NORMALIZE_INCOMING","NORMALIZE_OUTGOING","normalizeData","toNative","reset","saveRemoteFlag","returnData","toJson","way","normalizedData","isOutgoing","remoteProperty","normalizedKey","noneNormalizedKey","extractParams","actionParams","ids","substr","save","modifyLocal","promise","isNew","state","simpleRequest","then","remove","objectRequest","Model","dataLocation","extracted","item","push","$resolved","resource","reject","$promise","newConfig","isRemote","create","overrides","child","sunRestBaseModel","sunRestModelFactory","modelProperties","defaultGetMethod","defaultSetMethod","customSetter","customGetter","customProperty","getter","setter","res","sunRestCollection","router","find","postData","id","resources"],"mappings":"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"}