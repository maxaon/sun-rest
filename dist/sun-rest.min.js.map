{"version":3,"file":"dist/sun-rest.min.js","sources":["dist/sun-rest.js"],"names":["angular","sunRest","provider","propertyModifier","requestInterceptor","requestErrorInterceptor","responseInterceptor","responseErrorInterceptor","properties","dataExtractor","baseUrl","responseDataLocation","modelIdProperty","updateMethod","updatePartial","get","set","value","lastIndexOf","length","slice","_","isFunction","Error","Object","defineProperties","this","$get","mapValues","param","factory","BaseModel","data","mngr","constructor","mngrClass","isEmpty","populate","prototype","toJSON","$http","$q","sunUtils","sunRestConfig","sunRestRouter","hasBody","method","indexOf","toUpperCase","isValidDottedPath","path","MEMBER_NAME_REGEX","test","lookupDottedPath","obj","i","ii","key","keys","split","undefined","sunRestModelManager","model","schema","modelClass","route","remoteFlag","modifyFlag","originalData","changedProperties","deleteFlag","NEW","DELETED","DIRTY","LOADED","NORMALIZE_INCOMING","NORMALIZE_OUTGOING","normalizeData","forEach","toNative","reset","saveRemoteFlag","returnData","property","toJson","way","normalizedData","isOutgoing","prop","name","remoteProperty","normalizedKey","noneNormalizedKey","extractParams","actionParams","ids","extend","paramDefaults","charAt","substr","save","params","modifyLocal","promise","isNew","state","simpleRequest","dataItemLocation","then","remove","objectRequest","isArray","Model","dataLocation","dataListLocation","response","extracted","item","push","$resolved","resource","reject","$promise","httpConfig","idProperty","buildConfig","wrappedRequestInterceptor","config","newConfig","wrappedResponseInterceptor","isDefined","isRemote","create","overrides","child","$super","apply","arguments","isObject","inherit","sunRestBaseModel","DefaultChild","call","sunRestModelFactory","modelProperties","defaultGetMethod","defaultSetMethod","customSetter","customGetter","customProperty","getter","setter","encodeUriQuery","val","pctEncodeSpaces","encodeURIComponent","replace","encodeUriSegment","template","defaults","urlParams","actionUrl","url","encodedVal","RegExp","urlParam","hasOwnProperty","match","leadingSlashes","tail","module","service","copyProperties","from","to","exclude","props","description","getOwnPropertyNames","getOwnPropertyDescriptor","defineProperty","Child","Parent","F","f","stringJsonParser","stringPath","object","parts","x","returnValue"],"mappings":"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"}